2025-06-11 19:55:22,166 - INFO - Initialising Gemini...
2025-06-11 19:55:22,166 - INFO - Running analysis – this may take a few minutes...
2025-06-11 19:55:42,217 - ERROR - Analysis failed: "'confidence'"
Traceback (most recent call last):
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\main.py", line 38, in main
    report = asyncio.run(run_analysis(args.video, api_key=args.gemini_key))
  File "C:\Python39\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "C:\Python39\lib\asyncio\base_events.py", line 647, in run_until_complete
    return future.result()
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\badminton_ai\pipeline.py", line 90, in run_analysis
    result = await pipeline.ainvoke(initial_state)
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\.venv\lib\site-packages\langgraph\pregel\__init__.py", line 2788, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\.venv\lib\site-packages\langgraph\pregel\__init__.py", line 2655, in astream
    async for _ in runner.atick(
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\.venv\lib\site-packages\langgraph\pregel\runner.py", line 294, in atick
    await arun_with_retry(
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\.venv\lib\site-packages\langgraph\pregel\retry.py", line 136, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\.venv\lib\site-packages\langgraph\utils\runnable.py", line 676, in ainvoke
    input = await step.ainvoke(input, config, **kwargs)
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\.venv\lib\site-packages\langgraph\utils\runnable.py", line 440, in ainvoke
    ret = await self.afunc(*args, **kwargs)
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\badminton_ai\pipeline.py", line 56, in fn_report
    report = await asyncio.to_thread(generate_report, state["pose"], state["transcript"])
  File "C:\Python39\lib\asyncio\threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "C:\Python39\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\badminton_ai\report_generator.py", line 44, in generate_report
    prompt = textwrap.dedent(f"""
KeyError: "'confidence'"
2025-06-11 20:00:07,021 - INFO - Initialising Gemini...
2025-06-11 20:00:07,022 - INFO - Running analysis – this may take a few minutes...
2025-06-11 20:01:14,424 - ERROR - Analysis failed: "'confidence'"
Traceback (most recent call last):
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\main.py", line 38, in main
    report = asyncio.run(run_analysis(args.video, api_key=args.gemini_key))
  File "C:\Python39\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "C:\Python39\lib\asyncio\base_events.py", line 647, in run_until_complete
    return future.result()
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\badminton_ai\pipeline.py", line 90, in run_analysis
    result = await pipeline.ainvoke(initial_state)
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\.venv\lib\site-packages\langgraph\pregel\__init__.py", line 2788, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\.venv\lib\site-packages\langgraph\pregel\__init__.py", line 2655, in astream
    async for _ in runner.atick(
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\.venv\lib\site-packages\langgraph\pregel\runner.py", line 294, in atick
    await arun_with_retry(
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\.venv\lib\site-packages\langgraph\pregel\retry.py", line 136, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\.venv\lib\site-packages\langgraph\utils\runnable.py", line 676, in ainvoke
    input = await step.ainvoke(input, config, **kwargs)
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\.venv\lib\site-packages\langgraph\utils\runnable.py", line 440, in ainvoke
    ret = await self.afunc(*args, **kwargs)
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\badminton_ai\pipeline.py", line 56, in fn_report
    report = await asyncio.to_thread(generate_report, state["pose"], state["transcript"])
  File "C:\Python39\lib\asyncio\threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "C:\Python39\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\badminton_ai\report_generator.py", line 74, in generate_report
    prompt = textwrap.dedent(f"""
KeyError: "'confidence'"
2025-06-11 20:13:25,864 - INFO - Initialising Gemini...
2025-06-11 20:13:25,865 - INFO - Running analysis – this may take a few minutes...
2025-06-11 20:14:54,311 - INFO - Report successfully saved to C:\Users\SHREERAJ M\OneDrive\Desktop\Badminton-AI-LangGraph-Analysis\reports\sample_coach_report.txt
